package  {		import flash.display.*;	import flash.display.Sprite;	import flash.display.DisplayObject;	import flash.text.TextField;		import flash.net.*;		import flash.events.Event;	import flash.events.MouseEvent;	import flash.events.IEventDispatcher;	import flash.events.DataEvent;	import flash.events.IOErrorEvent;	import flash.events.SecurityErrorEvent;	import flash.events.HTTPStatusEvent;	import flash.events.ProgressEvent;	import flash.display.Loader;		import fl.transitions.Tween;	import fl.transitions.easing.*;	import fl.transitions.TweenEvent;	import flash.external.ExternalInterface;		import com.websitemediaplayers.utils.Globals;		public class PrevioSilueta extends MovieClip{		public function PrevioSilueta() {			Globals.vars.peviosilueta=this;		}				public function CargaSilueta(t_url,t_array) {			//trace("CargaSilueta: "+t_url);			CargaFondo(t_url);			CargaResalte(t_url);			PintarSilueta(t_array);			PintarSiluetaTop(t_array);		}				public function Clean () {			mask_mc.graphics.clear();			top_mc.graphics.clear();			removeChildrenOf(fondo_mc);			removeChildrenOf(resalte_mc);		}				function PintarSilueta(puntos_array) {			mask_mc.graphics.clear();			mask_mc.graphics.lineStyle(1, 0x000000, 1);			mask_mc.graphics.beginFill(0x666666, 1);			var str_cont:String=puntos_array[0];			for(var i=0;i<puntos_array.length;i++){				str_cont=puntos_array[i];				var t_arr=str_cont.split(",");				if(i==0){					mask_mc.graphics.moveTo(t_arr[0],t_arr[1]);				}else{					mask_mc.graphics.lineTo(t_arr[0],t_arr[1]);				}			}		}		function PintarSiluetaTop(puntos_array) {			top_mc.graphics.clear();			top_mc.graphics.lineStyle(3, 0xFFFFFF, 1);			top_mc.graphics.beginFill(0xFFFFFF, 0.1);			var str_cont:String=puntos_array[0];			for(var i=0;i<puntos_array.length;i++){				str_cont=puntos_array[i];				var t_arr=str_cont.split(",");				if(i==0){					top_mc.graphics.moveTo(t_arr[0],t_arr[1]);				}else{					top_mc.graphics.lineTo(t_arr[0],t_arr[1]);				}			}		}				function CargaFondo(liga_fotos) {			var mLoader:Loader=new Loader();			var mRequest:URLRequest=new URLRequest(liga_fotos);			removeChildrenOf(fondo_mc);			mLoader.contentLoaderInfo.addEventListener(Event.COMPLETE,onCompleteHandler);			mLoader.load(mRequest);		}		function CargaResalte(liga_fotos) {			var mLoader:Loader=new Loader();			var mRequest:URLRequest=new URLRequest(liga_fotos);			removeChildrenOf(resalte_mc);			mLoader.contentLoaderInfo.addEventListener(Event.COMPLETE,onCompleteHandlerResalte);			mLoader.load(mRequest);		}		function onCompleteHandler(loadEvent:Event) {			var image:Bitmap = Bitmap(loadEvent.currentTarget.content);          	image.smoothing=true;			fondo_mc.addChildAt(image,0);			////////			var myTween31 = new Tween(fondo_mc, "alpha", Elastic.easeOut, 0,1, 100, false);		}		function onCompleteHandlerResalte(loadEvent:Event) {			var image:Bitmap = Bitmap(loadEvent.currentTarget.content);          	image.smoothing=true;			resalte_mc.addChildAt(image,0);		}		function removeChildrenOf(mc:MovieClip):void{			if(mc.numChildren!=0){				var k:int = mc.numChildren;				while( k -- )				{					mc.removeChildAt( k );				}			}		}	}	}